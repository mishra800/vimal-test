<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Audit Trail</title>
    <link rel="icon" type="image/png" href="logo.png">
    <link rel="apple-touch-icon" href="logo.png">
    <link rel="stylesheet" href="styles.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#667eea">
</head>
<body>
    <div class="dashboard-container">
        <header class="dashboard-header">
            <div class="header-left">
                <img src="logo.png" alt="Logo" class="header-logo">
                <h1>Audit Trail & System Logs</h1>
            </div>
            <div class="user-info">
                <button onclick="window.location.href='admin-dashboard.html'" class="back-btn">‚Üê Back</button>
                <button onclick="logout()" class="logout-btn">Logout</button>
            </div>
        </header>

        <div class="audit-container">
            <!-- Audit Statistics -->
            <div class="audit-stats">
                <div class="stat-card">
                    <h3>Total Actions</h3>
                    <span id="totalActions">0</span>
                </div>
                <div class="stat-card">
                    <h3>Today's Activity</h3>
                    <span id="todayActivity">0</span>
                </div>
                <div class="stat-card">
                    <h3>Active Users</h3>
                    <span id="activeUsersToday">0</span>
                </div>
                <div class="stat-card">
                    <h3>Failed Logins</h3>
                    <span id="failedLogins">0</span>
                </div>
            </div>

            <!-- Audit Filters -->
            <div class="audit-filters">
                <div class="filter-row">
                    <select id="actionTypeFilter">
                        <option value="all">All Actions</option>
                        <option value="login">Login/Logout</option>
                        <option value="report">Report Actions</option>
                        <option value="user">User Management</option>
                        <option value="system">System Changes</option>
                        <option value="data">Data Operations</option>
                    </select>
                    <select id="userFilter">
                        <option value="all">All Users</option>
                        <!-- Users will be loaded dynamically -->
                    </select>
                    <input type="date" id="dateFromAudit" placeholder="From Date">
                    <input type="date" id="dateToAudit" placeholder="To Date">
                    <select id="severityFilter">
                        <option value="all">All Severity</option>
                        <option value="info">Info</option>
                        <option value="warning">Warning</option>
                        <option value="error">Error</option>
                        <option value="critical">Critical</option>
                    </select>
                </div>
                <div class="filter-actions">
                    <button onclick="applyAuditFilters()">Apply Filters</button>
                    <button onclick="clearAuditFilters()">Clear</button>
                    <button onclick="exportAuditLog()">Export Log</button>
                </div>
            </div>

            <!-- Audit Log Table -->
            <div class="audit-table-container">
                <table class="audit-table">
                    <thead>
                        <tr>
                            <th>Timestamp</th>
                            <th>User</th>
                            <th>Action</th>
                            <th>Resource</th>
                            <th>Details</th>
                            <th>IP Address</th>
                            <th>Severity</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody id="auditTableBody">
                        <!-- Audit entries will be loaded here -->
                    </tbody>
                </table>
            </div>

            <!-- Real-time Activity Feed -->
            <div class="realtime-activity">
                <h3>Real-time Activity Feed</h3>
                <div class="activity-controls">
                    <button id="pauseActivity" onclick="toggleActivityFeed()">‚è∏Ô∏è Pause</button>
                    <button onclick="clearActivityFeed()">üóëÔ∏è Clear</button>
                    <span class="activity-status">Live</span>
                </div>
                <div id="activityFeedContainer" class="activity-feed-container">
                    <!-- Real-time activities will appear here -->
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>